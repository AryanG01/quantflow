universe:
  symbols:
  - BTC/USDT
  - ETH/USDT
  - SOL/USDT
  - AVAX/USDT
  - DOGE/USDT
  timeframe: 4h
  lookback_days: 730
features:
  use_orderbook: false
  technical:
    rsi_period: 14
    atr_period: 14
    bb_period: 20
    bb_std: 2.0
    vol_window: 24
    vwap_period: 24
    bars_per_year: 2190
  normalization:
    method: rolling_zscore
    window: 100
    shift: 1
model:
  type: lightgbm_quantile
  n_estimators: 200
  learning_rate: 0.05
  max_depth: 6
  num_leaves: 31
  quantiles:
  - 0.1
  - 0.25
  - 0.5
  - 0.75
  - 0.9
  walk_forward:
    train_bars: 1000
    test_bars: 100
    purge_bars: 3
    embargo_bars: 2
  labeling:
    method: triple_barrier
    profit_taking_pct: 0.03
    stop_loss_pct: 0.015
    max_holding_bars: 12
    neutral_pct: 0.005
regime:
  model: gaussian_hmm
  n_states: 3
  features:
  - log_returns
  - realized_vol
  retrain_interval_days: 7
  state_mapping:
    trending: 0
    mean_reverting: 1
    choppy: 2
signals:
  fusion:
    method: regime_gated_moe
    regime_weights:
      trending:
        technical: 0.4
        ml: 0.5
        sentiment: 0.1
      mean_reverting:
        technical: 0.5
        ml: 0.3
        sentiment: 0.2
      choppy:
        technical: 0.3
        ml: 0.3
        sentiment: 0.4
    choppy_scale: 0.3
    direction_threshold: 0.05
    confidence_min_iqr: 0.2
    confidence_max_iqr: 1.5
risk:
  vol_target: 0.15
  max_position_pct: 0.25
  max_portfolio_leverage: 1.0
  max_drawdown_pct: 0.15
  max_concentration_pct: 0.3
  min_trade_usd: 10.0
  staleness_threshold_minutes: 30
execution:
  mode: paper
  order_timeout_seconds: 120
  max_retries: 3
  slippage_model:
    fixed_spread_bps: 5.0
    linear_impact_bps: 2.0
exchanges:
  binance:
    sandbox: false
    rate_limit_rpm: 1200
    fees_bps:
      maker: 10.0
      taker: 10.0
  coinbase:
    sandbox: false
    rate_limit_rpm: 600
    fees_bps:
      maker: 40.0
      taker: 60.0
monitoring:
  prometheus_port: 9090
  alert_webhook_url: ''
  drift_psi_threshold: 0.2
database:
  host: ${POSTGRES_HOST:localhost}
  port: ${POSTGRES_PORT:5432}
  name: ${POSTGRES_DB:trading}
  user: ${POSTGRES_USER:trading}
  password: ${POSTGRES_PASSWORD:changeme}
  sslmode: ${POSTGRES_SSLMODE:}
redis:
  url: ${REDIS_URL:redis://localhost:6379/0}
worker:
  signal_interval_hours: 4
  candle_interval_hours: 1
  sentiment_interval_minutes: 5
  health_interval_seconds: 60
  loop_sleep_seconds: 10
  candle_backfill_hours: 2
  sentiment_retention_hours: 24
portfolio:
  initial_equity: 100000.0
  signal_lookback_bars: 1200
  min_train_bars: 500
  min_valid_labels: 200
  vol_lookback_bars: 90
api:
  version: 0.1.0
sentiment:
  decay_halflife_hours: 12.0
  max_events_per_source: 10
  staleness_hours: 24.0
  dedup_window_hours: 6.0
